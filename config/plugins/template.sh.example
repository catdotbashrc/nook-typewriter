#!/bin/bash
# Plugin Template for Nook Menu System
# Copy this file and customize for your needs

# Plugin name: Example Plugin
# Author: Your Name
# Version: 1.0
# Description: Brief description of what this plugin does

# Handler function - called when menu item is selected
# Prefix with plugin name to avoid conflicts
example_handler() {
    # Clear screen
    fbink -c 2>/dev/null || clear
    
    # Display header
    fbink -y 2 "EXAMPLE PLUGIN" || echo "EXAMPLE PLUGIN"
    fbink -y 3 "═══════════════" || echo "═══════════════"
    
    # Your plugin logic here
    fbink -y 5 "This is an example plugin" || echo "This is an example plugin"
    
    # Wait for user input
    fbink -y 10 "Press any key to continue..." || echo "Press any key to continue..."
    read -n 1
}

# Register the menu item
# Parameters: key, label, handler_function
register_menu_item "x" "[X] Example Plugin" "example_handler"

# Optional: Hook into menu lifecycle events

# Called when menu starts
# on_menu_start() {
#     echo "Plugin loaded" >/tmp/example.log
# }

# Called when menu exits
# on_menu_exit() {
#     echo "Plugin unloaded" >/tmp/example.log
# }

# Called before Vim launches
# on_vim_launch() {
#     echo "Vim starting" >/tmp/example.log
# }

# Called after Vim exits
# on_vim_exit() {
#     echo "Vim closed" >/tmp/example.log
# }