# JesterOS Build Environment Configuration
# ===========================================
# Central configuration for build artifacts, paths, and environment settings

# Project Information
PROJECT_NAME=JesterOS
PROJECT_VERSION=1.0.0
BUILD_DATE=$(date +%Y%m%d_%H%M%S)

# Build Artifacts Locations
KERNEL_IMAGE_PATH=firmware/boot/uImage
KERNEL_SOURCE_DIR=source/kernel/src
MODULE_OUTPUT_DIR=firmware/modules
ROOTFS_OUTPUT_DIR=firmware/rootfs

# Docker Configuration
DOCKER_BUILDER_IMAGE=jesteros-kernel-builder
DOCKER_ROOTFS_IMAGE=jesteros-production
DOCKER_BUILD_CONTEXT=build/docker

# Cross-Compilation Settings
CROSS_COMPILE=arm-linux-androideabi-
ARCH=arm
KERNEL_CONFIG=omap3621_gossamer_evt1c_defconfig

# SquireOS Module Configuration
SQUIREOS_MODULE_DIR=source/kernel/src/drivers/squireos
SQUIREOS_MODULES=squireos_core.ko,jester.ko,typewriter.ko,wisdom.ko

# Memory Constraints (from CLAUDE.md)
TOTAL_RAM_MB=256
OS_LIMIT_MB=96
WRITING_RESERVED_MB=160

# Performance Targets
MAX_BOOT_TIME_SECONDS=20
MAX_MENU_RESPONSE_MS=500
MAX_VIM_LAUNCH_SECONDS=2
MAX_FILE_SAVE_SECONDS=1

# Build Paths
FIRMWARE_DIR=firmware
BUILD_LOG=build.log
TEST_RESULTS_DIR=test-results

# Docker Volume Mounts
KERNEL_MOUNT_PATH=/kernel
MODULE_MOUNT_PATH=/modules

# Build Flags
ENABLE_SQUIREOS_MODULES=y
ENABLE_DEBUG_SYMBOLS=n
ENABLE_OPTIMIZATION=y

# E-Ink Display Configuration
DISPLAY_WIDTH=800
DISPLAY_HEIGHT=600
DISPLAY_COLORS=16

# Testing Configuration
TEST_TIMEOUT_SECONDS=300
ENABLE_PERFORMANCE_TESTS=y
ENABLE_MEMORY_TESTS=y
ENABLE_SECURITY_TESTS=y

# Deployment Configuration
SD_CARD_SIZE_GB=16
BOOT_PARTITION_SIZE_MB=128
ROOT_PARTITION_SIZE_MB=4096

# Development Settings
DEVELOPMENT_MODE=true
VERBOSE_BUILD=false
PARALLEL_JOBS=4

# File Locations for Testing
BUILD_SCRIPT=./build_kernel.sh
TEST_FRAMEWORK=./tests/test-framework.sh
UNIT_TESTS_DIR=./tests/unit
INTEGRATION_TESTS_DIR=./tests

# Expected Artifact Checksums (to be updated after successful builds)
UIMAGE_SHA256=""
MODULES_SHA256=""
ROOTFS_SHA256=""

# Last Successful Build Information
LAST_BUILD_DATE=""
LAST_BUILD_COMMIT=""
LAST_BUILD_STATUS=""

# Build Environment Validation
REQUIRED_TOOLS="docker,make,arm-linux-androideabi-gcc"
REQUIRED_IMAGES="quillkernel-unified,nook-mvp-rootfs"