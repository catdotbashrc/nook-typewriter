# Nook Typewriter U-Boot Environment Configuration
# Medieval-themed distraction-free writing device
# This file goes on the boot partition (FAT16/FAT32)

# Boot arguments for QuillKernel
# - console: Serial console for debugging  
# - root: Root filesystem on SD card partition 2
# - rootfstype: ext4 filesystem (more compatible than f2fs)
# - rootwait: Wait for SD card to be ready
# - mem: Limit to 256MB total RAM
# - fbcon: Rotate framebuffer for portrait mode
# - epd: E-Ink display driver (pearl2 for Nook)
# - quiet: Reduce boot messages for writer-friendly experience
bootargs=console=ttyS0,115200n8 root=/dev/mmcblk0p2 rootfstype=ext4 rootwait rw mem=256M fbcon=rotate:1 epd=pearl2 quiet

# Boot command sequence
# 1. Rescan MMC for SD card
# 2. Load kernel from first partition at address 0x80000000
# 3. Boot the kernel
bootcmd=mmc rescan; fatload mmc 0:1 0x80000000 uImage; bootm 0x80000000

# Boot delay (seconds) - short delay for faster boot
bootdelay=2

# Console settings
stderr=serial
stdin=serial
stdout=serial

# Memory configuration
# Reserve 160MB for sacred writing space
memsize=256M
memstart=0x80000000

# Alternative configurations (uncomment to use):

# Debug mode - verbose boot messages
# bootargs=console=ttyS0,115200n8 root=/dev/mmcblk0p2 rootfstype=ext4 rootwait rw mem=256M fbcon=rotate:1 epd=pearl2

# F2FS filesystem (if kernel supports it)
# bootargs=console=ttyS0,115200n8 root=/dev/mmcblk0p2 rootfstype=f2fs rootwait rw mem=256M fbcon=rotate:1 epd=pearl2 quiet

# USB host mode enabled (for keyboards)
# bootargs=console=ttyS0,115200n8 root=/dev/mmcblk0p2 rootfstype=ext4 rootwait rw mem=256M fbcon=rotate:1 epd=pearl2 quiet musb_hdrc.mode_default=1