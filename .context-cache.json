{
  "project": {
    "name": "JesterOS/Nook Typewriter",
    "version": "1.0.0",
    "type": "Embedded Linux E-Reader Conversion",
    "philosophy": "Writers over features - Transform $20 e-reader into $400 distraction-free writer",
    "last_updated": "2024-12-20",
    "git_branch": "dev"
  },
  "hardware": {
    "device": "Nook Simple Touch",
    "cpu": "800 MHz ARM OMAP3621",
    "ram": "256MB total (160MB for writing after OS)",
    "display": "6\" E-Ink (800x600, 16 grayscale levels)",
    "storage": "SD card based",
    "power": "<100mA USB output"
  },
  "architecture": {
    "type": "4-Layer Runtime Architecture",
    "layers": {
      "1_ui": {
        "path": "runtime/1-ui/",
        "purpose": "User Interface Layer",
        "components": ["menu systems", "display components", "themes", "ASCII art"]
      },
      "2_application": {
        "path": "runtime/2-application/",
        "purpose": "Application Services",
        "components": ["JesterOS services", "mood system", "typewriter stats", "wisdom quotes"]
      },
      "3_system": {
        "path": "runtime/3-system/",
        "purpose": "System Services",
        "components": ["common libraries", "file operations", "process management", "boot scripts"]
      },
      "4_hardware": {
        "path": "runtime/4-hardware/",
        "purpose": "Hardware Abstraction",
        "components": ["E-Ink control", "USB detection", "power management", "sensors"]
      }
    },
    "dependency_flow": "1-ui → 2-application → 3-system → 4-hardware"
  },
  "jesteros": {
    "type": "Userspace Services (no kernel modules)",
    "location": "runtime/2-application/jesteros/",
    "interface": "/var/jesteros/",
    "services": {
      "daemon.sh": "Core daemon orchestrator",
      "mood.sh": "ASCII art jester mood system",
      "tracker.sh": "Writing statistics tracker",
      "manager.sh": "Service management"
    }
  },
  "build_system": {
    "kernel": {
      "version": "Linux 2.6.29-omap1",
      "location": "firmware/boot/uImage",
      "build_dir": "build/kernel/",
      "docker_image": "quillkernel-unified"
    },
    "environment": {
      "config_file": ".env",
      "naming": "QuillKernel (build system)",
      "cross_compile": "arm-linux-androideabi-",
      "arch": "ARM"
    }
  },
  "recent_work": {
    "migrations": [
      "Moved from 5-layer to 4-layer architecture",
      "Transitioned from kernel modules to userspace services",
      "Fixed path inconsistencies (source/ → runtime/)",
      "Standardized naming (SquireOS → JesterOS)"
    ],
    "improvements": [
      "Updated documentation references (60+ fixes)",
      "Created dry-run cleanup report",
      "Fixed boot consistency issues",
      "Improved script security headers"
    ],
    "pending": [
      "20+ documentation files still have old references",
      "4 empty directories to clean up",
      "Archive 4 migration documents",
      "Consolidate 18 duplicate README files"
    ]
  },
  "key_directories": {
    "runtime": "4-layer architecture implementation",
    "firmware": "Kernel, bootloaders, modules",
    "build": "Build scripts and Docker files",
    "tests": "Testing infrastructure",
    "tools": "Deployment and maintenance utilities",
    "docs": "Comprehensive documentation",
    "deployment_package": "Ready-to-deploy artifacts"
  },
  "memory_budget": {
    "total": "256MB",
    "os_reserved": "95MB",
    "vim_reserved": "10MB",
    "writing_space": "160MB (SACRED - DO NOT TOUCH)"
  },
  "testing": {
    "philosophy": "Test enough to sleep well, not to pass an audit",
    "key_tests": [
      "tests/test-improvements.sh - Script improvements validation",
      "tests/run-tests.sh - Main test runner",
      "tests/phase*-validation.sh - Phased validation"
    ],
    "performance_targets": {
      "boot_time": "< 20 seconds",
      "vim_launch": "< 2 seconds",
      "menu_response": "< 500ms",
      "file_save": "< 1 second"
    }
  },
  "important_files": {
    "CLAUDE.md": "Main project guidance for Claude Code",
    "runtime/README_ARCHITECTURE.md": "4-layer architecture explanation",
    "runtime/3-system/common/common.sh": "Common library functions",
    "runtime/2-application/jesteros/daemon.sh": "JesterOS main daemon"
  },
  "cache_metadata": {
    "created": "2024-12-20T10:30:00Z",
    "expires": "2024-12-20T22:30:00Z",
    "format_version": "1.0"
  }
}